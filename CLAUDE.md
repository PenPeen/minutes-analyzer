## プロジェクト概要・目的
- システムの目的（議事録分析システム）
- 主要機能（AI分析、Slack通知、Notion連携）

## 設計

全体設計
@architecture.md

プロンプト設計
@docs/prompt-design-report.md

## 開発環境の前提条件
- macOS環境での依存関係（Docker, Terraform, Ruby等）
- 必要なAPIキー・サービスアカウント

## 環境変数の設定
### 必須設定
- `GEMINI_API_KEY`: Gemini API キー
- `GOOGLE_SERVICE_ACCOUNT_JSON`: Google サービスアカウント認証情報

### オプション設定
- `SLACK_BOT_TOKEN`: Slack Bot User OAuth Token（xoxb-で始まる）
- `SLACK_CHANNEL_ID`: Slack 送信先チャンネルID（例: C1234567890）
- `NOTION_API_KEY`: Notion Integration トークン
- `NOTION_DATABASE_ID`: 議事録用データベースID
- `NOTION_TASK_DATABASE_ID`: タスク管理用データベースID

## 利用可能なMakefileコマンド
  - make help - ヘルプ表示
  - make setup - 初期セットアップ
  - make start - 開発環境起動・デプロイ
  - make test - テスト実行
  - make clean - 環境クリーンアップ
  - make deploy-production - 本番デプロイ

## トラブルシューティング情報
- LocalStack起動問題の対処法
- APIキーエラーの解決方法

## プロジェクト構成の説明
- 主要ディレクトリの役割
- アーキテクチャの概要

制約
- 実装方針に変更が生じる場合は、必ず確認すること。承認を得てから作業するようにしてください。
- 本環境はDockerで構築されています。
- 開発環境の起動やテストは Makefile のスクリプトで実行すること
- コードのレビューを依頼された場合は、以下に記載されているGoogle コードレビューガイドを参考に行うこと

```
 Google コードレビューガイド
 https://fujiharuka.github.io/google-eng-practices-ja/-


【0. ガイド全体の位置付け】
・Google のコードレビューは「品質担保」「知識共有」「開発者育成」の３目的を同時に満たすことを狙う。
・同ガイドは「開発者（CL 作成者）向け」「レビュワー向け」の両面で手順と判断基準を示す。
・根本原則は「コードベースの長期的な健全性を最優先に、素早く、礼節をもってレビューする」。

────────────────────────────
【1. レビューの標準（What to look for）】
レビューでは次の観点を順に確認する。合格基準は「既存コードと同等か、それ以上の品質」。

1-1. 設計（Design）
 • 責務が適切に分離され、拡張・保守が容易か。
 • 既存 API・アーキテクチャと整合しているか。

1-2. 機能（Functionality）
 • 仕様を満たすか。隠れた副作用やバグを生まないか。
 • セキュリティ／プライバシー上の問題がないか。

1-3. 複雑さ（Complexity）
 • 必要以上に複雑でないか。より簡潔な実装が可能か。

1-4. テスト（Tests）
 • ユニット・統合テストが十分かつ適切か。テスト名は明確か。

1-5. 命名（Naming）
 • 変数・関数・ファイル名が意図を正確に表しているか。

1-6. コメント（Comments）
 • 何を・なぜ行うかを説明しているか（HOW ではない）。
 • 古いコメント残骸や TODO の未解決はないか。

1-7. スタイル（Style）
 • 言語／プロジェクト既定のスタイルガイドに従うか。
 • スタイル違反のみで差し戻すのは避け、自動フォーマッタを推奨。

1-8. ドキュメント（Documentation）
 • 公開 API や設定ファイルの更新を伴う場合は docs も更新されているか。

────────────────────────────
【2. レビュー運用方針】

2-1. スピード
 • レビュー要求は「勤務時間内で最優先タスク」。
 • 初回応答は 1 営業日以内、可能なら数時間以内。
 • レビュワーが即対応できない場合は他のレビュワーに委譲。

2-2. CL（Change List）のサイズ
 • 推奨は 200 行前後（大きくても 400 行）。
 • 大規模変更は機能単位で分割し、レビュワー負荷を下げる。

2-3. LGTM（承認）の基準
 • 「完璧」ではなく「十分良い」。
 • 新旧品質が同等以上ならマージを許可。

2-4. コメントの書き方
 • 技術に集中し人格批判をしない。
 • 断定より提案： “nit: …”, “optional: …”, “suggestion: …”。
 • 同意や賞賛も積極的に表現して学習を促す。

2-5. 意見の衝突と決着
 • 事実（ドキュメント・実測）を元に議論。
 • 平行線の場合はオーナーシップを持つ「コードオーナー」判断に従う。

────────────────────────────
【3. 開発者（CL 作成者）の心得】

3-1. 変更内容を小さく分割し、自己レビューを済ませてから送る。
3-2. CL 説明には「目的・背景・設計意図・テスト結果」を書く。
3-3. レビュワーのコメントには 2 営業日以内に応答し、同意できない場合は根拠を示す。

────────────────────────────
【4. 補足トピック】

4-1. 自動化とツール
 • Linter／フォーマッタ／静的解析を最大限使い、人的レビューを論理・設計に集中。

4-2. セキュリティ／国際化
 • 入力検証、機密データの扱い、文字コード・ローカリゼーションへの配慮は第一級事項。

4-3. ロールチェンジ／知識共有
 • 自分が所有しないコードも積極的にレビューし、バス係数（属人性）を下げる。

────────────────────────────
【5. まとめ（実践ポイント）】

✓ CL は小さく、意図がわかる説明を添える。
✓ レビュワーは 24 時間以内に反応する。
✓ 重視すべきは設計・機能・複雑さ。スタイルは自動化で処理。
✓ コメントは敬意を持って。「十分に良い」で承認。
✓ 長期的なコードベース健全性を最優先する。
```
